---
title: "D - Digit Sum Replace (500点)"
description: ""
tags:
  - 数学
  - 天啓
  - 競技プログラミング
  - AtCoder
  - 企業コン
  - 桁和
  - 操作回数
  - 独立性
created_at: 2019-11-24
updated_at: 2019-11-26
draft: false
---


注意：この記事は解説というより詰まったところメモです。

# 問題

[D - Digit Sum Replace](https://atcoder.jp/contests/ddcc2020-qual/tasks/ddcc2020_qual_d)


# 考察

本番では解けませんでした。繰り上がり操作と桁数維持操作があることまでは見えていましたがそこから何も広がりませんでした。順位表を見ると、高レートで解けてない方がいるわりに、水付近の色でも解けてる方がちらほらいたので天啓かなと思いました。案の定、天啓でした。やめてくれー。


editorialによると、どの2桁を選んでも開かれる予選の回数は同じだそうです。
実験をすると確かにそうなりますが、あまりピンときていません。うーん。

操作は以下の2種類あります。これらが独立な操作だからでしょうか、うーん。

1. 桁数が1減り、各桁の和は変わらない
1. 桁数は変わらず、各桁の和は9減る

2種類の操作があるのは確かにそうです。では、これらの操作は何回行われるのでしょうか。

桁数を\\(D\\)、各桁の和を\\(S\\)とします。

最後に1桁の数字になるので、\\(D-1\\)桁減ることになります。
つまり、1.の操作は\\(D-1\\)回行われます。

それで、2.の操作ですが、

> 各桁の数字の和は\\(1\\)～\\(9\\)のどれかで終わるので、パターン#2はちょうど 「\\(S-1\\)を\\(9\\)で割った商」回行われる (editorialより)

うーん、全然わかりません。\\(S-1\\)はどこからきたんですか。
\\(S/9\\)じゃないんですか。


実験してみることにします。

- \\(S = 37\\)のとき、\\(37 \to 28 \to 19 \to 10 \to 1 \\)、で\\(4\\)回
- **\\(S = 36\\)のとき、\\(36 \to 27 \to 18 \to 9 \\)、で\\(3\\)回**
- \\(S = 35\\)のとき、\\(35 \to 26 \to 17 \to 8 \\)、で\\(3\\)回
- \\(S = 34\\)のとき、\\(34 \to 25 \to 16 \to 7 \\)、で\\(3\\)回
- \\(S = 33\\)のとき、\\(33 \to 24 \to 15 \to 6 \\)、で\\(3\\)回
- \\(S = 32\\)のとき、\\(32 \to 23 \to 14 \to 5 \\)、で\\(3\\)回
- \\(S = 31\\)のとき、\\(31 \to 22 \to 13 \to 4 \\)、で\\(3\\)回
- \\(S = 30\\)のとき、\\(30 \to 21 \to 12 \to 3 \\)、で\\(3\\)回
- \\(S = 29\\)のとき、\\(29 \to 20 \to 11 \to 2 \\)、で\\(3\\)回
- \\(S = 28\\)のとき、\\(28 \to 19 \to 10 \to 1 \\)、で\\(3\\)回
- **\\(S = 27\\)のとき、\\(27 \to 18 \to 9 \\)、で\\(2\\)回**
- \\(S = 26\\)のとき、\\(26 \to 17 \to 8 \\)、で\\(2\\)回

\\(S\\)が\\(9\\)の倍数のとき、操作回数は\\(S/9\\)より\\(1\\)回少ないことがわかりました。

\\(S\\)が\\(9\\)の倍数でなければ\\(s/9\\)でよいが、\\(9\\)の倍数のときは\\(1\\)回少ないです。なので予め\\(1\\)引いておけば帳尻をあわせることができます。もしくは、\\(S\\)が\\(9\\)の倍数のときだけ全体から\\(1\\)引いても同じです。天才？




# 感想
各桁の和に注目しなかったので解に至らなかった。とはいえこれ苦手すぎるので、2種の操作が見えても解に至らなかったと思う。

シミュレーションで通せるなら通したい。



自分の苦手が前面に出た問題でした。
- 独立操作をみつける
- 独立なんだから他の操作に影響を与えない
- 操作できる回数

あたりを考えるのが苦手そう。 
