---
title: 【Nuxt.js】Makdownで記事を書けるSPAブログを自作する
description: 'Nuxt.jsで自作ブログを作っています。-Markdownで記事を書き、processmdでHTMLに変換 -Nuxt.jsで静的ファイル生成 -firebaseでホスティング...'
tags:
  - Nuxt.js
created_at: 2019-04-21
---

**（執筆中）**

# Nuxt.jsでブログ作り
フロント周りの勉強を兼ねて、
**Nuxt.js**でオリジナルブログを作っています（このブログです）。
やってることをざっくりまとめるとこんな感じです。

- Markdownで記事を書き、**processmd**でHTMLに変換
- **Nuxt.js**で静的ファイル生成
- **firebase**でホスティング

それぞれの詳細について説明していきます。

## Markdownで記事を書き、**processmd**でHTMLに変換
**（執筆中）**
## **Nuxt.js**で静的ファイル生成
**（執筆中）**
## **firebase**でホスティング
**（執筆中）**


# コメント欄をつける

[https://utteranc.es/](https://utteranc.es/)に色々説明が書いてあります。
上記ページに記載された以下のスクリプトタグを自分のページに貼り付けるだけで、コメント欄ができます。

```html
<script src="https://utteranc.es/client.js"
  repo="[ENTER REPO HERE]"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
```

`[ENTER REPO HERE]`には自分の`username/repository`を入れます。


コメント欄はこんな感じです。
![comment form](/posts_images/2019-04-21-nuxt_blog/comment.png)

コメントはGitHubのissuesに届きます。
![comment form](/posts_images/2019-04-21-nuxt_blog/comment_issues.png)
issuesで削除したコメントはサイトからも削除されます。

コメントするためにはGitHubアカウントが必要なんですが、スパムを避けるのににちょうどいい敷居なんじゃないかと思ってます。

# サイトパフォーマンスの向上
次はサイトパフォーマンスを向上させます。
何も対策をしていない時のLighthouseでのスコアはこんな感じでした。

![perf_before](/posts_images/2019-04-21-nuxt_blog/perf_before.png)

何もしていないのに既に高いパフォーマンスを叩き出しています。
Nuxt.jsの威力を感じます。

しかし、Accessibilityが極端に低いので向上させていきます。

## Accessibility

Accessibilityが低いのは、自分の書いたHTMLの質が悪かったからです。Accessibilityの項目をみてみると、

- imgタグにalt属性を付与せよ

という怒られが発生していました。これを修正しただけでパフォーマンスが改善されました。

![perf_before](/posts_images/2019-04-21-nuxt_blog/perf_after.png)

とはいえ、Lighthouseで測定できるAccessibilityはあくまで表面的なものです。
本当にユーザーのことを考えると、考慮すべきことがまだありそうです。

- コントラスト
- 色使い
- 余白

など...

## Score 100
どうせならスコアを100にしようと思って調整しました。
とは言っても、Lighthouseに指摘された部分を修正すればよいだけです。

SEOを91->100にするには**robots.txt**を作成する必要がありました。
自分はクローラーに全ページのクロールを許可する以下のrobots.txtを作って`static`ディレクトリに設置しました。

```txt
User-agent:*
```

そんなこんなで細かい修正をした結果、スコア100を達成できました。
![perf_before](/posts_images/2019-04-21-nuxt_blog/perf_100.png)


# 参考

今回のブログを作るにあたって、Yoshihide Jimboさんの記事が大変参考になりました（というかだいたいそのままや）。
御礼申し上げます。

- [Nuxt.js で Markdown ベースのブログを構築する（Markdown 編）](https://jmblog.jp/posts/2018-01-17/build-a-blog-with-nuxtjs-and-markdown-1/)
- [Nuxt.js で Markdown ベースのブログを構築する（Nuxt.js 編）](https://jmblog.jp/posts/2018-01-18/build-a-blog-with-nuxtjs-and-markdown-2/)
- [Nuxt.js で Markdown ベースのブログを構築する（サイトパフォーマンス編）](https://jmblog.jp/posts/2018-01-24/build-a-blog-with-nuxtjs-and-markdown-3/)

***

はてなブログとかに比べるとまだ不便な点が残ってますが（画像の貼り付けとか、投稿するたびbuildしないといけないとか）、
高速なSPAブログが手に入ったので結構満足しています。

これから追加したい機能は

- タグ
- 数式の表示

です。数式に関しては、Nuxt.jsで**MathJax**を使う方法がよくわからないので時間がかかるかもです。

ブログが完成したらこの記事も書き上げます。もう少し待ってて下さい。